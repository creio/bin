#!/bin/sh
#
# Read logs from #kisslinux irc channel with colorized output.
#
# Usage: irc, irc [YYYYMMDD]

curl "https://freenode.logbot.info/kisslinux/${1:-$(date +%Y%m%d)}/raw" |

while read -r _ n m; do
    n=${n%>}
    n=${n#<}

    printf '\033[3%s;1m%10s\033[m %s\n' \
        "$((${#n} % 6 + 1))" "$n" "$m"
done
